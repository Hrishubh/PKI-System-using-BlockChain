(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2],{5579:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(5893),i=n(809),r=n.n(i),s=n(2447),u=n(9227),o=n(7294),c=n(3626),l=n(4309),p=n(8237),f=n(7513),d=n(9657),y=n(3542),h=JSON.parse('{"w3":"[{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"CertificateOwner\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"address\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"renewals\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"validity\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"getSummary\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"address\\"},{\\"name\\":\\"\\",\\"type\\":\\"string\\"},{\\"name\\":\\"\\",\\"type\\":\\"string\\"},{\\"name\\":\\"\\",\\"type\\":\\"uint256\\"},{\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[],\\"name\\":\\"terminateCertificate\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":false,\\"inputs\\":[{\\"name\\":\\"requestedExtension\\",\\"type\\":\\"uint256\\"}],\\"name\\":\\"extendCertificate\\",\\"outputs\\":[],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"publicKey\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"string\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"getRenewals\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"uint256[]\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"isValid\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"bool\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"constant\\":true,\\"inputs\\":[],\\"name\\":\\"publicKeyAlgo\\",\\"outputs\\":[{\\"name\\":\\"\\",\\"type\\":\\"string\\"}],\\"payable\\":false,\\"stateMutability\\":\\"view\\",\\"type\\":\\"function\\"},{\\"inputs\\":[{\\"name\\":\\"applicant\\",\\"type\\":\\"address\\"},{\\"name\\":\\"suggestedKey\\",\\"type\\":\\"string\\"},{\\"name\\":\\"suggestedAlgo\\",\\"type\\":\\"string\\"},{\\"name\\":\\"requestedValidity\\",\\"type\\":\\"uint256\\"}],\\"payable\\":false,\\"stateMutability\\":\\"nonpayable\\",\\"type\\":\\"constructor\\"}]"}'),m=function(e){return new y.Z.eth.Contract(JSON.parse(h.w3),e)};function b(e){var t=e.summary,n=e.contractAddress,i=o.useState(t[3]),h=(0,u.Z)(i,2),m=h[0],b=h[1],w=(0,o.useState)(!1),v=w[0],g=w[1],x=(0,o.useState)(""),j=(x[0],x[1]),k="https://sepolia.etherscan.io/address/"+n,C=function(e){if(e<1)return"0";for(var t=function(e,t){return e>0?" ".concat(e,"\n    ").concat(t).concat(function(e){return e>1?" ":""}(e)):""},n=3600,a=86400,i=2629800,r=31536e3,s={Years:~~(e/r),Months:~~(e%r/i),Days:~~(e%i/a),Hours:~~(e%a/n),Min:~~(e%n/60),Sec:e%60},o="",c=0,l=Object.entries(s);c<l.length;c++){var p=(0,u.Z)(l[c],2),f=p[0];p[1];o+=t(s[f],f)}var d=o.trim().split(","),y=[];return d.forEach((function(e,t){t%2===0&&0!==t&&y.push(t===d.length-2?"and":" "),y.push(e)})),y.join(" ").replace(/\s,/g,",")};o.useEffect((function(){m>0&&setTimeout((function(){return b(m-1)}),1e3)}),[m]);var M=function(){var e=(0,s.Z)(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),j(""),e.prev=3,e.next=6,y.Z.eth.getAccounts();case 6:return n=e.sent,e.next=9,d.Z.methods.terminateCertificate(n[0]).send({from:n[0]});case 9:Router.pushRoute("/"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),j(e.t0.message);case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)(f.Z,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("h3",{class:"ui one column stackable center aligned page grid",children:"Certificate Details :"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{class:"",children:(0,a.jsx)(l.Z,{children:(0,a.jsx)(l.Z.Row,{children:(0,a.jsx)(l.Z.Column,{width:20,children:function(){var e=t[0],i=t[1],r=t[2],s="";s=t[4]?"This Certificate is Valid.":"This Certificate has Expired.";var u=[{header:e,meta:"Owner's Account",description:"The owner owns the public key in this certificate.",style:{overflowWrap:"break-word"}},{header:n,meta:"Address of the Contract",description:"The address on the blockchain where the current certificate has been stored.",style:{overflowWrap:"break-word"}},{header:i,meta:"Public Key",description:"This is the key which can be used to communicate with the owner of the key. They are a very integral feature of most modern verification systems.",style:{overflowWrap:"break-word"}},{header:r,meta:"Algorithm associated with the Public Key",description:"The algorithm which is used in decryption and encryption using the given pair of public/private keys."},{header:C(m),meta:"Validity (seconds)",description:"The period for which the certificate is actually valid.",style:{overflowWrap:"break-word"}},{header:s,meta:"Status of the Certificate",description:"Shows if the Certificate is still valid or has it expired already."}];return(0,a.jsx)(c.Z.Group,{centered:!0,items:u})}()})})})}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(p.Z,{loading:v,onClick:M,class:"blue fluid ui button",style:{width:"60%",marginLeft:"20%"},children:"Remove Certificate!"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("a",{target:"_blank",href:k,style:{color:"white"},children:(0,a.jsx)("button",{class:"blue fluid ui button",style:{width:"80%",marginLeft:"10%"},children:"View on EtherScan"})})]})}b.getInitialProps=function(){var e=(0,s.Z)(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m(t.query.address),a=t.query.address,e.next=4,n.methods.getSummary().call();case 4:return i=e.sent,e.abrupt("return",{summary:i,contractAddress:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var w=b},3661:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/certificates/show",function(){return n(5579)}])}},function(e){e.O(0,[774,543,493,106,11,111,888,179],(function(){return t=3661,e(e.s=t);var t}));var t=e.O();_N_E=t}]);